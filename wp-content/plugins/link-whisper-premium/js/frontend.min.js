"use strict";function wpil_link_clicked(e){var i=this,t="",r=!1,o="",l=["img","svg"];1!=e.which&&0!=e.button&&2!=e.which&&4!=e.button||i.length<1||"1"!==wpilFrontend.disableClicks&&void 0!==this.href&&"#"!==i.href&&(function e(i){if(0<i.children.length)for(var n in i.children){var a=i.children[n];void 0!==a.children&&0<a.children.length&&""===t&&e(a),1===a.nodeType&&-1!==l.indexOf(a.nodeName.toLowerCase())&&""===o&&(r=!0,void 0!==(a=void 0!==a.title?a.title:"")&&(o=a.trim())),t=t.trim(),o=void 0!==o?o.trim():""}void 0!==i.outerText&&(t=i.outerText)}(i),""===t&&r?t=""!==o?wpilFrontend.clicksI18n.imageText+o:wpilFrontend.clicksI18n.imageNoText:""!==t||r||(t=wpilFrontend.clicksI18n.noText),"0"===wpilFrontend.trackAllElementClicks&&hasParentElements(i,"header, footer, nav, [id~=header], [id~=menu], [id~=footer], [id~=widget], [id~=comment], [class~=header], [class~=menu], [class~=footer], [class~=widget], [class~=comment], #wpadminbar")||(e=getLinkLocation(i),makeAjaxCall({action:"wpil_link_clicked",post_id:wpilFrontend.postId,post_type:wpilFrontend.postType,link_url:i.href,link_anchor:t,link_location:e})))}function openLinksInNewTab(){0==wpilFrontend.openLinksWithJS||0==wpilFrontend.openExternalInNewTab&&0==wpilFrontend.openInternalInNewTab||[].forEach.call(document.querySelectorAll("a"),function(e){var i;hasParentElements(e,"header, footer, nav, [id~=header], [id~=menu], [id~=footer], [id~=widget], [id~=comment], [class~=header], [class~=menu], [class~=footer], [class~=widget], [class~=comment], #wpadminbar")||e.href&&!e.target&&-1===e.href.indexOf(window.location.href)&&(i=new URL(e.href),((i=window.location.hostname===i.hostname)&&parseInt(wpilFrontend.openInternalInNewTab)||!i&&parseInt(wpilFrontend.openExternalInNewTab))&&e.setAttribute("target","_blank"))})}function hasParentElements(e,i=""){var n=!!e&&e.tagName.toLowerCase();if(!e||"body"===n||"main"===n||"article"===n)return!1;"string"==typeof i&&(i=i.split(","));var a,t=!1;for(a in i){var r=i[a];if(-1!==r.indexOf("id~=")){var o=r.replace(/\[id~=|\]/g,"").trim();if(void 0!==e.id&&""!==e.id&&-1!==e.id.indexOf(o)){t=!0;break}}else if(-1!==r.indexOf("class~=")){o=r.replace(/\[class~=|\]/g,"").trim();if(void 0!==e.classList&&""!==e.className&&-1!==e.className.indexOf(o)){t=!0;break}}else if(-1!==r.indexOf("#")){o=r.replace(/#/g,"").trim();if(void 0!==e.id&&""!==e.id&&o===e.id){t=!0;break}}else if(!r.match(/[^a-zA-Z]/)){o=r.trim();if(e.tagName.toLowerCase()===o){t=!0;break}}}return!!t||""!==e.parentNode&&hasParentElements(e.parentNode,i)}function makeAjaxCall(e={}){(window.jQuery?callWithJquery:callWithVanilla)(e)}function callWithJquery(e={}){jQuery.ajax({type:"POST",url:wpilFrontend.ajaxUrl,data:e,success:function(e){}})}function callWithVanilla(e={}){!async function(e){var i,n=wpilFrontend.ajaxUrl,a=new XMLHttpRequest,t=[];for(i in e)t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));t=t.join("&"),a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(t)}(e)}function getLinkLocation(e){var i="Body Content",n={Search:["search","[id~=search]","[class~=search]"],Header:["header","[id~=header]","[class~=header]"],"Comment Section":["[id~=comment]","[class~=comment]"],Footer:["footer","[id~=footer]","[class~=footer]"],Menu:["[id~=menu]","[class~=menu]"],Navigation:["nav"],Sidebar:["sidebar","[id~=sidebar]","[class~=sidebar]","[id~=widget]","[class~=widget]"],"Body Content":["main","article","[class~=main]"]};if(!e||"body"===e.tagName.toLowerCase())return i;var a=!1;e:for(var t in n){var r,o=n[t];for(r in o){var l=o[r];if(-1!==l.indexOf("id~=")){var d=l.replace(/\[id~=|\]/g,"").trim();if(void 0!==e.id&&""!==e.id&&-1!==e.id.indexOf(d)){a=!0,i=t;break e}}else if(-1!==l.indexOf("class~=")){d=l.replace(/\[class~=|\]/g,"").trim();if(void 0!==e.classList&&""!==e.className&&-1!==e.className.indexOf(d)){a=!0,i=t;break e}}else if(-1!==l.indexOf("#")){d=l.replace(/#/g,"").trim();if(void 0!==e.id&&""!==e.id&&d===e.id){a=!0,i=t;break e}}else if(!l.match(/[^a-zA-Z]/)){d=l.trim();if(e.tagName.toLowerCase()===d){a=!0,i=t;break e}}}}return a?i:""!==e.parentNode&&getLinkLocation(e.parentNode)}[].forEach.call(document.querySelectorAll("a"),function(e){e.addEventListener("click",wpil_link_clicked),e.addEventListener("auxclick",wpil_link_clicked)}),window.addEventListener("load",openLinksInNewTab);